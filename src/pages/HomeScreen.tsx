import { signInWithPopup } from "firebase/auth";
import { Link } from "react-router-dom";
import { Auth, googleProvider } from "../Firebase/firebase-config";
import { LoginUser, RestartGame } from "../Redux/GameDataSlice";
import { useAppDispatch, useAppSelector } from "../Redux/ReduxHooks";
import AuthButton from "../Components/AuthButton";
export default function HomeScreen() {
  const dispatch = useAppDispatch();
  const userName = useAppSelector((state) => state.GameData.userName);

  async function signInWithGooglePopup() {
    try {
      await signInWithPopup(Auth, googleProvider);
      console.log("Auth.currentUser", Auth.currentUser);
      if (Auth.currentUser) {
        dispatch(
          LoginUser({
            userId: Auth.currentUser.uid,
            userName: Auth.currentUser?.displayName,
          })
        );
      }
    } catch (err) {
      console.error(err);
    }
  }

  return (
    <section className="mt-5 flex flex-col items-center justify-center sm:mt-10  ">
      <div className="flex flex-col items-center justify-center rounded-lg  border-2 border-orange-400 px-7 py-8 sm:px-14 sm:py-16">
        <div className="mt-2 h-16 scale-[2] drop-shadow-md">
          <svg
            className=""
            width="44"
            height="43"
            viewBox="0 0 44 43"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g filter="url(#filter0_d_222_151)">
              <rect
                x="2"
                y="0.140869"
                width="40"
                height="39.7183"
                rx="6.76056"
                fill="white"
                shape-rendering="crispEdges"
              />
              <path
                d="M8.36328 14.2844V8.08533H11.2945C11.9793 8.08533 12.5815 8.21226 13.1011 8.46613C13.6206 8.71999 14.025 9.07718 14.3143 9.53768C14.6095 9.99818 14.7571 10.5472 14.7571 11.1849C14.7571 11.8166 14.6095 12.3656 14.3143 12.832C14.025 13.2926 13.6206 13.6497 13.1011 13.9036C12.5815 14.1575 11.9793 14.2844 11.2945 14.2844H8.36328ZM10.1167 12.8852H11.2237C11.5779 12.8852 11.8849 12.8202 12.1447 12.6904C12.4103 12.5546 12.617 12.3597 12.7645 12.1059C12.9121 11.8461 12.9859 11.5391 12.9859 11.1849C12.9859 10.8247 12.9121 10.5177 12.7645 10.2639C12.617 10.01 12.4103 9.81812 12.1447 9.68823C11.8849 9.55244 11.5779 9.48455 11.2237 9.48455H10.1167V12.8852Z"
                fill="#3E8BFE"
              />
              <path
                d="M18.1149 14.3641C17.5481 14.3641 17.0522 14.2578 16.6271 14.0453C16.208 13.8269 15.8803 13.5317 15.6442 13.1597C15.4139 12.7819 15.2988 12.3538 15.2988 11.8756C15.2988 11.3974 15.411 10.9723 15.6353 10.6004C15.8656 10.2225 16.1814 9.93029 16.5829 9.72365C16.9843 9.51111 17.436 9.40485 17.9378 9.40485C18.4101 9.40485 18.8411 9.50226 19.2307 9.69709C19.6204 9.88601 19.9303 10.1664 20.1605 10.5384C20.3908 10.9103 20.5059 11.362 20.5059 11.8933C20.5059 11.9524 20.503 12.0203 20.4971 12.097C20.4912 12.1738 20.4853 12.2446 20.4794 12.3096H16.6803V11.424H19.5849L18.9473 11.6719C18.9532 11.4535 18.9119 11.2646 18.8233 11.1052C18.7407 10.9458 18.6226 10.8218 18.4691 10.7332C18.3215 10.6447 18.1474 10.6004 17.9466 10.6004C17.7459 10.6004 17.5688 10.6447 17.4153 10.7332C17.2677 10.8218 17.1526 10.9487 17.0699 11.114C16.9873 11.2734 16.9459 11.4623 16.9459 11.6808V11.9376C16.9459 12.1738 16.9932 12.3774 17.0876 12.5487C17.188 12.7199 17.3297 12.8527 17.5127 12.9472C17.6957 13.0357 17.9142 13.08 18.168 13.08C18.4042 13.08 18.6049 13.0475 18.7702 12.9826C18.9414 12.9118 19.1097 12.8055 19.275 12.6638L20.1605 13.5848C19.9303 13.8387 19.6469 14.0335 19.3104 14.1693C18.9739 14.2992 18.5754 14.3641 18.1149 14.3641Z"
                fill="#3E8BFE"
              />
              <path
                d="M21.2817 14.2844V9.48455H22.8846V10.8838L22.6455 10.4853C22.7872 10.1251 23.0174 9.85649 23.3362 9.67937C23.655 9.49635 24.0417 9.40485 24.4963 9.40485V10.9192C24.4195 10.9074 24.3517 10.9015 24.2926 10.9015C24.2395 10.8956 24.1804 10.8926 24.1155 10.8926C23.7731 10.8926 23.4956 10.9871 23.2831 11.176C23.0705 11.359 22.9643 11.6601 22.9643 12.0793V14.2844H21.2817Z"
                fill="#3E8BFE"
              />
              <path
                d="M20.6211 24.0682V17.8691H23.5523C24.2372 17.8691 24.8393 17.9961 25.3589 18.2499C25.8784 18.5038 26.2828 18.861 26.5721 19.3215C26.8673 19.782 27.0149 20.331 27.0149 20.9687C27.0149 21.6004 26.8673 22.1494 26.5721 22.6158C26.2828 23.0763 25.8784 23.4335 25.3589 23.6874C24.8393 23.9413 24.2372 24.0682 23.5523 24.0682H20.6211ZM22.3745 22.669H23.4815C23.8357 22.669 24.1427 22.604 24.4025 22.4742C24.6681 22.3384 24.8748 22.1435 25.0224 21.8897C25.17 21.6299 25.2438 21.3229 25.2438 20.9687C25.2438 20.6085 25.17 20.3015 25.0224 20.0477C24.8748 19.7938 24.6681 19.6019 24.4025 19.472C24.1427 19.3362 23.8357 19.2683 23.4815 19.2683H22.3745V22.669Z"
                fill="#FD4640"
              />
              <path
                d="M27.8577 24.0682V19.2683H29.5403V24.0682H27.8577ZM28.699 18.737C28.392 18.737 28.144 18.6514 27.9551 18.4802C27.7662 18.309 27.6717 18.0964 27.6717 17.8426C27.6717 17.5887 27.7662 17.3762 27.9551 17.2049C28.144 17.0337 28.392 16.9481 28.699 16.9481C29.006 16.9481 29.2539 17.0308 29.4429 17.1961C29.6318 17.3555 29.7262 17.5621 29.7262 17.816C29.7262 18.0817 29.6318 18.3031 29.4429 18.4802C29.2598 18.6514 29.0119 18.737 28.699 18.737Z"
                fill="#FD4640"
              />
              <path
                d="M33.1487 24.1479C32.582 24.1479 32.0861 24.0416 31.661 23.8291C31.2418 23.6107 30.9142 23.3155 30.678 22.9435C30.4478 22.5657 30.3326 22.1376 30.3326 21.6594C30.3326 21.1812 30.4448 20.7561 30.6692 20.3842C30.8994 20.0063 31.2153 19.7141 31.6167 19.5075C32.0182 19.2949 32.4698 19.1886 32.9716 19.1886C33.4439 19.1886 33.8749 19.2861 34.2646 19.4809C34.6542 19.6698 34.9642 19.9502 35.1944 20.3222C35.4247 20.6941 35.5398 21.1458 35.5398 21.6771C35.5398 21.7362 35.5368 21.8041 35.5309 21.8808C35.525 21.9576 35.5191 22.0284 35.5132 22.0934H31.7141V21.2078H34.6188L33.9812 21.4557C33.9871 21.2373 33.9458 21.0484 33.8572 20.889C33.7745 20.7296 33.6565 20.6056 33.503 20.517C33.3554 20.4285 33.1812 20.3842 32.9805 20.3842C32.7798 20.3842 32.6026 20.4285 32.4491 20.517C32.3016 20.6056 32.1864 20.7325 32.1038 20.8978C32.0211 21.0572 31.9798 21.2461 31.9798 21.4646V21.7214C31.9798 21.9576 32.027 22.1612 32.1215 22.3325C32.2219 22.5037 32.3635 22.6365 32.5466 22.731C32.7296 22.8195 32.948 22.8638 33.2019 22.8638C33.438 22.8638 33.6388 22.8313 33.8041 22.7664C33.9753 22.6955 34.1435 22.5893 34.3088 22.4476L35.1944 23.3686C34.9642 23.6225 34.6808 23.8173 34.3443 23.9531C34.0077 24.083 33.6092 24.1479 33.1487 24.1479Z"
                fill="#FD4640"
              />
              <path
                d="M12.5039 33.8522V27.6531H15.4351C16.12 27.6531 16.7222 27.78 17.2417 28.0339C17.7612 28.2877 18.1656 28.6449 18.4549 29.1054C18.7501 29.5659 18.8977 30.115 18.8977 30.7526C18.8977 31.3843 18.7501 31.9334 18.4549 32.3998C18.1656 32.8603 17.7612 33.2175 17.2417 33.4714C16.7222 33.7252 16.12 33.8522 15.4351 33.8522H12.5039ZM14.2573 32.4529H15.3643C15.7185 32.4529 16.0255 32.388 16.2853 32.2581C16.5509 32.1223 16.7576 31.9275 16.9052 31.6736C17.0528 31.4138 17.1266 31.1068 17.1266 30.7526C17.1266 30.3925 17.0528 30.0855 16.9052 29.8316C16.7576 29.5777 16.5509 29.3859 16.2853 29.256C16.0255 29.1202 15.7185 29.0523 15.3643 29.0523H14.2573V32.4529Z"
                fill="#41FB7B"
              />
              <path
                d="M22.6717 33.8522V32.9577L22.5566 32.7363V31.0891C22.5566 30.8235 22.474 30.6198 22.3086 30.4781C22.1492 30.3305 21.8924 30.2567 21.5382 30.2567C21.308 30.2567 21.0748 30.2951 20.8386 30.3718C20.6025 30.4427 20.4017 30.543 20.2364 30.6729L19.6697 29.5305C19.9412 29.3534 20.2659 29.2176 20.6438 29.1231C21.0275 29.0228 21.4083 28.9726 21.7862 28.9726C22.5655 28.9726 23.1676 29.1527 23.5927 29.5128C24.0237 29.867 24.2392 30.4249 24.2392 31.1865V33.8522H22.6717ZM21.2548 33.9319C20.8711 33.9319 20.5464 33.8669 20.2807 33.737C20.015 33.6071 19.8114 33.43 19.6697 33.2057C19.5339 32.9813 19.466 32.7304 19.466 32.4529C19.466 32.1577 19.5398 31.9039 19.6874 31.6913C19.8409 31.4729 20.0741 31.3076 20.387 31.1954C20.6999 31.0773 21.1043 31.0183 21.6002 31.0183H22.7337V31.895H21.8304C21.5589 31.895 21.367 31.9393 21.2548 32.0279C21.1486 32.1164 21.0954 32.2345 21.0954 32.3821C21.0954 32.5297 21.1515 32.6478 21.2637 32.7363C21.3759 32.8249 21.5293 32.8692 21.7242 32.8692C21.9072 32.8692 22.0725 32.8249 22.2201 32.7363C22.3736 32.6419 22.4858 32.5002 22.5566 32.3112L22.7869 32.9311C22.6983 33.2618 22.5241 33.5127 22.2644 33.6839C22.0105 33.8492 21.674 33.9319 21.2548 33.9319Z"
                fill="#41FB7B"
              />
              <path
                d="M27.0458 33.9319C26.6384 33.9319 26.2399 33.8846 25.8503 33.7902C25.4665 33.6957 25.1566 33.5776 24.9204 33.4359L25.4252 32.2847C25.6496 32.4205 25.9123 32.5297 26.2134 32.6123C26.5145 32.6891 26.8097 32.7275 27.0989 32.7275C27.3823 32.7275 27.5771 32.6979 27.6834 32.6389C27.7956 32.5799 27.8517 32.5002 27.8517 32.3998C27.8517 32.3053 27.7985 32.2374 27.6923 32.1961C27.5919 32.1489 27.4561 32.1135 27.2849 32.0898C27.1196 32.0662 26.9366 32.0397 26.7359 32.0101C26.5351 31.9806 26.3314 31.9422 26.1248 31.895C25.9241 31.8419 25.7381 31.7651 25.5669 31.6648C25.4016 31.5585 25.2688 31.4168 25.1684 31.2397C25.068 31.0626 25.0179 30.8382 25.0179 30.5666C25.0179 30.2596 25.1064 29.9881 25.2835 29.7519C25.4665 29.5098 25.7322 29.3209 26.0805 29.1851C26.4289 29.0434 26.8539 28.9726 27.3558 28.9726C27.6923 28.9726 28.0317 29.008 28.3742 29.0789C28.7225 29.1438 29.0147 29.2442 29.2509 29.38L28.7461 30.5224C28.5099 30.3866 28.2738 30.2951 28.0376 30.2478C27.8015 30.1947 27.5771 30.1681 27.3646 30.1681C27.0812 30.1681 26.8805 30.2006 26.7624 30.2655C26.6503 30.3305 26.5942 30.4102 26.5942 30.5047C26.5942 30.5991 26.6443 30.6729 26.7447 30.726C26.8451 30.7733 26.9779 30.8117 27.1432 30.8412C27.3144 30.8648 27.5004 30.8914 27.7011 30.9209C27.9019 30.9445 28.1026 30.9829 28.3033 31.036C28.5099 31.0891 28.6959 31.1688 28.8612 31.2751C29.0324 31.3755 29.1682 31.5142 29.2686 31.6913C29.3689 31.8625 29.4191 32.0839 29.4191 32.3555C29.4191 32.6507 29.3276 32.9164 29.1446 33.1525C28.9675 33.3887 28.7018 33.5776 28.3476 33.7193C27.9993 33.861 27.5653 33.9319 27.0458 33.9319Z"
                fill="#41FB7B"
              />
            </g>
            <defs>
              <filter
                id="filter0_d_222_151"
                x="0.873239"
                y="0.140869"
                width="42.2535"
                height="41.9718"
                filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB"
              >
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />
                <feOffset dy="1.12676" />
                <feGaussianBlur stdDeviation="0.56338" />
                <feComposite in2="hardAlpha" operator="out" />
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0.0980392 0 0 0 0 0.0862745 0 0 0 0 0.329412 0 0 0 0.15 0"
                />
                <feBlend
                  mode="normal"
                  in2="BackgroundImageFix"
                  result="effect1_dropShadow_222_151"
                />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_dropShadow_222_151"
                  result="shape"
                />
              </filter>
            </defs>
          </svg>
        </div>

        <h1 className="text-3xl font-bold">Guess the Article!</h1>

        <Link
          to="/GameBoard"
          className="mt-4 rounded-full border-2 border-orange-400 bg-orange-400 py-2 px-4 text-xl text-white transition-all  duration-500 hover:bg-white hover:text-orange-400 sm:mt-8 sm:py-4 sm:px-8 sm:text-3xl"
        >
          Play Now
        </Link>
      </div>

      <div className="mt-2 text-2xl">
        <AuthButton />
      </div>

      {/* <button onClick={signInWithGooglePopup} className="mt-2 text-2xl hover:underline sm:text-3xl ">
        Sign up
      </button> */}

      {/* <h1>welcome to the german artikel game</h1> 
      <p>would you like to login or or have a quick free play</p>
      <div className="m-4 flex flex-col">
        <div className=" flex ">
          login:
          <button
            onClick={signInWithGooglePopup}
            type="button"
            className="ml-2 flex cursor-pointer items-center bg-slate-400 hover:bg-orange-300 hover:underline"
          >
            Sign in<div></div>
          </button>
        </div>

        <div className="mt-2 flex ">
          free play:
          <Link
            to="/GameBoard"
            className="ml-2 flex cursor-pointer items-center bg-slate-400 hover:bg-orange-300 hover:underline "
            onClick={() => {
              dispatch(RestartGame());
            }}
          >
            Play
          </Link>
        </div>
      </div>
      */}
    </section>
  );
}
